<configuration>
    <appender name="file" class="ch.qos.logback.core.rolling.RollingFileAppender">

        <!--        - 로그파일의 경로를 설정해줍니다.-->
        <file>/root/application-log/application.log</file>

        <!--        - 로그의 패턴을 설정합니다-->
        <encoder>
            <pattern>%d{yyyyMMdd HH:mm:ss.SSS} [%thread] %-5level [%logger{0}:%line] - %msg %n</pattern>
        </encoder>

        <!--        - 날자가 변경됐을때 파일을 따로 저장하도록 설정합니다. 확장자를 gz로 설정하면 압축 파일로 저장 됩니다.-->
        <!--        - maxHistory는 최대 보관주기를, totalSizeCap은 파일의 크기를 나타냅니다.-->
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>application.log.%d{yyyy-MM-dd}.gz</fileNamePattern>
            <maxHistory>30</maxHistory>
            <totalSizeCap>5GB</totalSizeCap>
        </rollingPolicy>
    </appender>

    <root level="info">
        <appender-ref ref="file" />
    </root>
</configuration>